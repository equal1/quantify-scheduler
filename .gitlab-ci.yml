workflow:
  rules:
    - if: '$CI_PIPELINE_SOURCE == "push"'
    - if: '$CI_PIPELINE_SOURCE == "schedule"'
    - if: '$CI_PIPELINE_SOURCE == "web"'
    - if: '$CI_PIPELINE_SOURCE == "api"'

variables:
  COV_MODULE: quantify_scheduler
  GIT_DEPTH: 0 # Get all commits so that miniver always knows the latest tag.

include:
  - project: "quantify-os/ci"
    ref: safe_directory
    file: "/python-vanilla.yml"
  - project: "quantify-os/ci"
    ref: safe_directory
    file: "/python-windows.yml"
  - project: "quantify-os/ci"
    ref: safe_directory
    file: "/python-packaging-pypi.yml"
